(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{42070:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(97271)}])},26320:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var s=r(85893);r(67294);var n=r(25675),a=r.n(n),o=r(30669),i=r(64232),l=r(23147),d=r(41664),c=r.n(d),u={src:"/_next/static/media/promatch-logo.df617b5f.png",height:983,width:2e3,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAD1BMVEWzlCzAlBvqiyfClh3Dlx6zfizdAAAABXRSTlMEFTcnHlHCe88AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAhSURBVHicNcaxDQAACMOwhPb/mxEDi2USoxZrqgLMnJ8FA/UAKm++PlQAAAAASUVORK5CYII=",blurWidth:8,blurHeight:4},m=r(94521),f=r(20297),b=r(87536);let x=e=>{let{title:t,fields:r,onSubmit:n,error:d,signupPage:x}=e,{register:g,handleSubmit:h,formState:{errors:p}}=(0,b.cI)(),A=e=>{n(e)};return(0,s.jsx)(m.Z,{title:t,children:(0,s.jsxs)("div",{className:"relative flex min-h-screen flex-col items-center justify-center overflow-hidden",children:[(0,s.jsx)(f.Z,{className:"-z-[1] object-cover object-top",src:"/images/login-background.jpg",fill:!0,alt:"login-background",priority:!0}),(0,s.jsxs)("div",{className:"w-full rounded-md bg-body p-6 shadow-md dark:bg-darkmode-body lg:max-w-xl",children:[(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(a(),{src:u,alt:"Logo proposta",width:120,height:40})}),(0,s.jsxs)("form",{onSubmit:h(A),className:"mt-6 px-8",children:[r.map(e=>(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:e.name,className:"block bg-body text-sm font-semibold dark:bg-darkmode-body",children:e.label}),(0,s.jsx)("input",{...g(e.name,{required:!0}),type:e.type,id:e.name,className:"mt-2 block w-full rounded-md border bg-white px-4 py-2 text-gray-700 focus:border-gray-400 focus:outline-none focus:ring focus:ring-gray-300 focus:ring-opacity-40"}),p[e.name]&&(0,s.jsx)("span",{children:"This field is required"})]},e.name)),d&&(0,s.jsx)("p",{className:"flex justify-between rounded-md border-b border-red-400 bg-red-50 p-2 text-sm font-bold text-red-800",children:d}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("button",{className:"btn btn-outline-primary w-full transform rounded-md px-4 py-2 tracking-wide",type:"submit",children:t})})]}),(0,s.jsx)("div",{className:"relative mt-6 flex w-full items-center justify-center border border-t",children:(0,s.jsx)("div",{className:"absolute bg-theme-light px-5 dark:bg-darkmode-body",children:"Or"})}),(0,s.jsxs)("div",{className:"mt-4 flex gap-x-2",children:[(0,s.jsx)("button",{type:"button",className:"flex w-full items-center justify-center rounded-md border border-gray-600 p-2 focus:ring-2 focus:ring-violet-600 focus:ring-offset-1",children:(0,s.jsx)(o.Z,{})}),(0,s.jsx)("button",{className:"flex w-full items-center justify-center rounded-md border border-gray-600 p-2 focus:ring-2 focus:ring-violet-600 focus:ring-offset-1",children:(0,s.jsx)(i.Z,{})}),(0,s.jsx)("button",{className:"flex w-full items-center justify-center rounded-md border border-gray-600 p-2 focus:ring-2 focus:ring-violet-600 focus:ring-offset-1",children:(0,s.jsx)(l.Z,{})})]}),x?(0,s.jsxs)("p",{className:"mt-4 bg-body text-center text-sm dark:bg-darkmode-body",children:["Already have an account?"," ",(0,s.jsx)(c(),{href:"/login",className:"font-medium text-blue-600 hover:underline",children:"Sign in"})]}):(0,s.jsxs)("p",{className:"mt-4 bg-body text-center text-sm dark:bg-darkmode-body",children:["Don't have an account?"," ",(0,s.jsx)(c(),{href:"/signup",className:"font-medium text-blue-600 hover:underline",children:"Sign up"})]})]})]})})};var g=x},97271:function(e,t,r){"use strict";r.r(t);var s=r(85893),n=r(67294),a=r(11163),o=r(47041),i=r(26320),l=r(42393);let d=()=>{let e=(0,a.useRouter)(),[t,r]=(0,n.useState)(""),d=async t=>{try{let r=await l.Z.post("login",t);if(201===r.status)(0,o.setCookie)("authorization",r.data.Token,{maxAge:3600}),e.push("/contractors");else{let e=r.data;throw Error(e.error)}}catch(e){r(e.message)}};return(0,s.jsx)(i.Z,{title:"Login",fields:[{name:"usernameOrEmail",label:"Username or email address",type:"text"},{name:"password",label:"Password",type:"password"}],onSubmit:d,error:t})};t.default=d},42393:function(e,t,r){"use strict";var s=r(6154);let n=s.Z.create({baseURL:"https://t5hj91wpbc.execute-api.us-east-2.amazonaws.com/production/",headers:{"Content-Type":"application/json"}});t.Z=n}},function(e){e.O(0,[260,3061,8952,2405,8366,9161,4521,9774,2888,179],function(){return e(e.s=42070)}),_N_E=e.O()}]);